<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ë„¤ì´ë²„ ì˜í™”</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<script type="text/javascript"
	src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
	//í˜ì´ì§€ë¥¼ ë¡œë“œí•˜ë©´ ë°”ë¡œ ì‹¤í–‰
	onload = function() {
		var $tbody = $("#tbody")

		//í¬ë¡¤ë§ í•´ ì˜¬ ì„œë²„ê°€ ì‹¤í–‰ë˜ì–´ ìˆì–´ì•¼ í•¨
		//ì¼ë°˜ì ì¸ ì‚¬ì´íŠ¸ëŠ” í¬ë¡¤ë§ì„ ìì£¼í•˜ë©´ ì°¨ë‹¨ë˜ë¯€ë¡œ ì°¨ë‹¨ ì‹œ ë‹¤ë¥¸IPë¡œ ì ‘ì†
		/*
		 * Serving Flask app "app" (lazy loading)
		 * Environment: production
		   WARNING: This is a development server. Do not use it in a production deployment.
		   Use a production WSGI server instead.
		 * Debug mode: off
		 * Running on http://localhost:8585/ (Press CTRL+C to quit)
		 */
		$.getJSON('http://localhost:8585/crawling', function(data) {
			var movies = data.movies;

			//ë³„ì ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬
			movies.sort(function(a, b) {
				return b.star - a.star;
			});

			for (var i = 0; i < movies.length; i++) {

				var $tr = $('<tr>')
				var $title = $('<td>').append(movies[i].title)
				var $star = $('<td>').append(movies[i].star)
				$tr.append($title)
				$tr.append($star)
				$tbody.append($tr)

			}
		});
	}
</script>
<style type="text/css">
body {
	background: #F5F5F5;
}
</style>
</head>
<body>
	<br>
	<h1 align="center">ğŸ˜‚ í¬ ë¡¤ ë§ ğŸ¤£</h1>
	<br>
	<div class="col-auto">
		<table class="table table-striped table-hover">
			<thead class="thead-dark">
				<tr>
					<th>ì˜í™” ğŸ¬</th>
					<th>ë³„ì  âœ¨</th>
				</tr>
			</thead>
			<tbody id="tbody"></tbody>
		</table>
	</div>
</body>
</html>